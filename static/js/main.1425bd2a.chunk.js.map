{"version":3,"sources":["PortalMaterial.js","main.js","index.js"],"names":["PortalMaterial","uniforms","uTime","value","uColorStart","THREE","uColorEnd","vertexShader","fragmentShader","this","v","extend","hextorgb","hex","result","exec","r","parseInt","g","b","componentToHex","c","toString","length","Ocean","ref","useRef","gl","useThree","state","waterNormals","useLoader","wrapS","wrapT","geom","useMemo","config","textureWidth","textureHeight","sunDirection","sunColor","waterColor","distortionScale","fog","undefined","format","encoding","useFrame","delta","current","material","time","args","Math","PI","Water","Ball","gltf","GLTFLoader","styles","useSpring","loop","reverse","from","rotation","position","to","mass","tension","friction","mesh","object","scene","scale","Umbrella","Island","color","flatShading","geometry","nodes","Landscape004","Dock","console","log","Zeppelin","mesh_0","useState","hovered","sethovered","starter","setsstarter","colorfrom","setcolorfrom","counter","setcounter","zep_col_dark","zep_col_light","colorto","setto","useEffect","intervalId","perc","setInterval","lerp","rgbtohex","document","body","style","cursor","clearInterval","onPointerOver","e","stopPropagation","onPointerOut","Site","cam","fov","near","far","targ","window","innerWidth","innerHeight","shadowMap","camera","fallback","intensity","Sky","turbidity","rayleigh","mieCoefficient","mieDirectionalG","elevation","azimuth","OrbitControls","target","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.1425bd2a.chunk.js","sourcesContent":["import * as THREE from 'three'\r\nimport { extend } from '@react-three/fiber'\r\nimport glsl from 'babel-plugin-glsl/macro'\r\n\r\nexport default class PortalMaterial extends THREE.ShaderMaterial {\r\n  constructor() {\r\n    super({\r\n      uniforms: {\r\n        uTime: { value: 0 },\r\n        uColorStart: { value: new THREE.Color('#2B60DE') },\r\n        uColorEnd: { value: new THREE.Color('white') },\r\n      },\r\n      vertexShader: `\r\n      varying vec2 vUv;\r\n      void main() {\r\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\r\n        vec4 viewPosition = viewMatrix * modelPosition;\r\n        vec4 projectionPosition = projectionMatrix * viewPosition;\r\n        gl_Position = projectionPosition;\r\n        vUv = uv;\r\n      }\r\n      `,\r\n      fragmentShader: glsl`\r\n      #pragma glslify: cnoise3 = require(glsl-noise/simplex/3d.glsl)\r\n      uniform float uTime;\r\n      uniform vec3 uColorStart;\r\n      uniform vec3 uColorEnd;\r\n      varying vec2 vUv;\r\n      void main() {\r\n        vec2 displacedUv = vUv + cnoise3(vec3(vUv * 1.0, uTime * 0.1));\r\n        float strength = cnoise3(vec3(displacedUv * 1.0, uTime *0.1));\r\n        float outerGlow = distance(vUv, vec2(0.5)) * 3.0 - 1.4;\r\n        strength += outerGlow;\r\n        strength += step(-0.2, strength) * 0.5;\r\n        strength = clamp(strength, 0.0, 0.9);\r\n        vec3 color = mix(uColorStart, uColorEnd, strength);\r\n        gl_FragColor = vec4(color, 1.0);\r\n      }\r\n      `,\r\n    })\r\n  }\r\n\r\n  get time() {\r\n    return this.uniforms.uTime.value\r\n  }\r\n\r\n  set time(v) {\r\n    this.uniforms.uTime.value = v\r\n  }\r\n\r\n  get colorStart() {\r\n    return this.uniforms.uColorStart.value\r\n  }\r\n\r\n  get colorEnd() {\r\n    return this.uniforms.uColorEnd.value\r\n  }\r\n}\r\n\r\nextend({ PortalMaterial })\r\n","import React, { Suspense, useEffect, useRef, useState, useMemo } from 'react'\r\nimport './PortalMaterial'\r\nimport * as THREE from 'three'\r\nimport { TextureLoader } from 'three/src/loaders/TextureLoader'\r\nimport { Canvas,extend, useLoader, useFrame, useThree,} from '@react-three/fiber'\r\nimport { Physics, Debug, usePlane, useCompoundBody } from '@react-three/cannon'\r\nimport { Geometry,Water } from \"three-stdlib\";\r\nimport { OrbitControls, Sky } from '@react-three/drei'\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\r\nimport { useSpring, animated,config } from '@react-spring/three'\r\n\r\nextend({ Water })\r\n\r\nfunction hextorgb(hex) {\r\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n  return result ? {\r\n    r: parseInt(result[1], 16),\r\n    g: parseInt(result[2], 16),\r\n    b: parseInt(result[3], 16)\r\n  } : null;\r\n}\r\nfunction componentToHex(c) {\r\n  var hex = c.toString(16);\r\n  return hex.length == 1 ? \"0\" + hex : hex;\r\n}\r\nfunction rgbtohex(r, g, b) {\r\n  return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\r\n}\r\n\r\n\r\n\r\nfunction Ocean() {\r\n  const ref = useRef()\r\n  const gl = useThree((state) => state.gl)\r\n  const waterNormals = useLoader(THREE.TextureLoader, '/0110.png')\r\n  waterNormals.wrapS = waterNormals.wrapT = THREE.RepeatWrapping\r\n  const geom = useMemo(() => new THREE.PlaneGeometry(20000, 20000), [])\r\n  const config = useMemo(\r\n    () => ({\r\n      textureWidth: 512,\r\n      textureHeight: 512,\r\n      waterNormals,\r\n      sunDirection: new THREE.Vector3(-1),\r\n      sunColor: 'hotpink',\r\n      waterColor: '#012a4a',\r\n      distortionScale: 3,\r\n\r\n      fog: gl.fog !== undefined,\r\n      format: gl.encoding\r\n    }),\r\n    [waterNormals]\r\n  )\r\n  useFrame((state, delta) => (ref.current.material.uniforms.time.value += delta))\r\n  return <water ref={ref} args={[geom, config]} rotation-x={-Math.PI / 2} />\r\n}\r\n\r\n\r\nconst Ball = () => {\r\n  const gltf = useLoader(GLTFLoader, './ball/scene.gltf')\r\n\r\n\r\n  const styles = useSpring({\r\n    loop: {reverse:true},\r\n    from: { rotation: [.01, 0, 0],\r\n             position: [0,0,200],\r\n           },\r\n    to: {\r\n          rotation: [0, 0, 0],\r\n          position: [0,.1,200]\r\n          },\r\n    config:{ mass: 2, tension: 120, friction: 0 }\r\n  });\r\n\r\n\r\n\r\n  return(\r\n    <animated.mesh { ...styles}>\r\n    <primitive object={gltf.scene} scale={10} position={[0,5,0]}/>\r\n  </animated.mesh>\r\n  );\r\n}\r\n\r\nconst Umbrella = () => {\r\n  const gltf = useLoader(GLTFLoader, './umbrella/scene.gltf')\r\n  const rota = 3.14*2;\r\n  const styles = useSpring({\r\n    loop: true,\r\n    from: { rotation: [0, rota, 0 ],\r\n             position: [10,28,100],\r\n           },\r\n    to: { rotation: [0, 0, 0],\r\n          position: [10,28,100]\r\n          },\r\n    config:{ mass: 200, tension: 200, friction: 0 }\r\n  });\r\n  // child.material.color.lerp(color.set(hovered === child.name ? \"tomato\" : \"#202020\").convertSRGBToLinear(), hovered ? 0.1 : 0.05)\r\n\r\n  return(\r\n    <animated.mesh { ...styles}>\r\n\r\n        <primitive object={gltf.scene}\r\n         scale={0.1}/>\r\n\r\n    </animated.mesh>\r\n  );\r\n\r\n}\r\n\r\nconst Island = () => {\r\n  var gltf = useLoader(GLTFLoader, './island/island_base1_fin.gltf')\r\n\r\n  const material = new THREE.MeshPhongMaterial({\r\n    color: '#C2B280',    // red (can also use a CSS color string here)\r\n    flatShading: false,\r\n  });\r\n\r\n  return(\r\n    <mesh\r\n    geometry={gltf.nodes.Landscape004.geometry}\r\n    scale={200}\r\n    material={material}\r\n    rotation={[0,3.14,0]}\r\n     >\r\n      </mesh>\r\n  )\r\n}\r\n\r\n\r\nconst Dock = () => {\r\n  var gltf = useLoader(GLTFLoader, './dock/scene.gltf')\r\n  console.log(gltf)\r\n  const material = new THREE.MeshPhongMaterial({\r\n    color: '#C2B280',    // red (can also use a CSS color string here)\r\n    flatShading: false,\r\n  });\r\n\r\n  return(\r\n    <primitive object={gltf.scene}\r\n     scale={.2}\r\n     position={[-900,-0,-2700]}\r\n     />\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Zeppelin = () => {\r\n  var gltf = useLoader(GLTFLoader, './zeppelin/scene.gltf')\r\n  var textur = useLoader(GLTFLoader, './zeppelin/texture/scene.gltf')\r\n  const zep = gltf.nodes.mesh_0.geometry\r\n  const rota = 3.14*2;\r\n  const styles = useSpring({\r\n    loop: true,\r\n    from: { rotation: [0, 0, 0 ],\r\n             position: [0,40,300],\r\n           },\r\n    to: { rotation: [0, 0, 0],\r\n          position: [0,30,300]\r\n          },\r\n    config:{ mass: 200, tension: 100, friction: 0 }\r\n  });\r\n\r\n  // console.log(gltf)\r\n\r\n  const [hovered, sethovered] = useState(false)\r\n  const [starter, setsstarter] = useState(false)\r\n  const [colorfrom, setcolorfrom] = useState('#000000')\r\n  const [counter, setcounter] = useState()\r\n  const zep_col_dark = '#012a4a'\r\n  const zep_col_light = '#014f86'\r\n  const [colorto, setto] = useState('#000000')\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    let intervalId;\r\n    let perc = 100;\r\n\r\n    if((hovered)&&(starter)){\r\n      setcounter(perc)\r\n      setto(zep_col_dark)\r\n      setcolorfrom(zep_col_light)\r\n    }\r\n    if (hovered && (starter==false)){\r\n      setsstarter(true)\r\n      setcounter(0)\r\n      setto(zep_col_dark)\r\n      setcolorfrom(zep_col_light)\r\n    }\r\n    if(starter){\r\n      intervalId = setInterval(() => {\r\n        setcounter(counter + 1);\r\n      }, 1)\r\n    }\r\n\r\n\r\n\r\n    if (counter < perc){\r\n      var r = THREE.MathUtils.lerp(parseInt(hextorgb(colorfrom).r),parseInt(hextorgb(colorto).r),counter/perc)\r\n      var g = THREE.MathUtils.lerp(parseInt(hextorgb(colorfrom).g),parseInt(hextorgb(colorto).g),counter/perc)\r\n      var b = THREE.MathUtils.lerp(parseInt(hextorgb(colorfrom).b),parseInt(hextorgb(colorto).b),counter/perc)\r\n      var c = rgbtohex(parseInt(r),parseInt(g),parseInt(b))\r\n      console.log(c)\r\n      setcolorfrom(c)\r\n    }else{\r\n      setsstarter(false)\r\n    }\r\n\r\n   document.body.style.cursor = hovered ? \"pointer\" : \"auto\"\r\n   return () => clearInterval(intervalId);\r\n }, [hovered,counter])\r\n\r\n\r\n\r\n\r\nconst material = new THREE.MeshPhongMaterial({\r\n  color: colorfrom,    // red (can also use a CSS color string here)\r\n  flatShading: true,\r\n\r\n});\r\n  return(\r\n\r\n    <>\r\n    <animated.mesh { ...styles}>\r\n          <mesh geometry={gltf.nodes.mesh_0.geometry}\r\n           scale={10}\r\n           onPointerOver={(e) => (e.stopPropagation(), sethovered(true))\r\n         }\r\n          onPointerOut={(e) => (e.stopPropagation(), sethovered(false))}\r\n          material={material}\r\n           >\r\n\r\n            </mesh>\r\n      </animated.mesh>\r\n    </>\r\n  );\r\n\r\n}\r\n\r\n\r\n\r\nexport default function Site() {\r\n\r\n\r\nconst cam = {\r\n  position: [-900,90,-2800],\r\n  fov: 70,\r\n  near: 1,\r\n  far: 10000\r\n}\r\nconst targ = [cam.position[0],cam.position[1],cam.position[2]+10]\r\nconst camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 1, 10000 );\r\n\r\nreturn(\r\n  <Canvas shadowMap camera={cam}>\r\n\r\n\r\n\r\n\r\n      <Suspense fallback={null}>\r\n      <directionalLight color={\"white\"} intensity={1} position={[0,60,-200]} />\r\n        <Ocean />\r\n        <Ball/>\r\n        <Umbrella/>\r\n        <Zeppelin/>\r\n        <Island/>\r\n        <Dock/>\r\n        <Sky\r\n        scale={10000}\r\n        turbidity={10}\r\n        rayleigh={2}\r\n        mieCoefficient={0.005}\r\n        mieDirectionalG={0.8}\r\n        elevation={0}\r\n        azimuth={180}\r\n         ></Sky>\r\n      </Suspense>\r\n\r\n      <OrbitControls target={targ}/>\r\n\r\n  </Canvas>\r\n);\r\n\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport Site from './main.js';\r\n\r\n\r\n// ========================================\r\n\r\nReactDOM.render(\r\n  <Site />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}